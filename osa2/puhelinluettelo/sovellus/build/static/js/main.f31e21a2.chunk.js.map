{"version":3,"sources":["components/Header.js","components/Person.js","components/ShowPersons.js","components/AddForm.js","components/Filter.js","components/Notification.js","services/personHandlingService.js","components/App.js","index.js"],"names":["Header","text","Person","props","name","number","value","onClick","delete","ShowPersons","showables","persons","filter","p","toLowerCase","includes","map","person","key","AddForm","onChange","newName","onChangeNumber","newNumber","type","Filter","Notification","message","style","color","fontSize","backgroundColor","borderStyle","borderRadius","padding","textAlign","baseUrl","newObject","axios","post","then","response","data","id","put","App","useState","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","errorMessage","setErrorMessage","useEffect","console","log","get","event","preventDefault","target","input","Math","floor","random","find","window","confirm","prevPerson","personHandlingService","updatedPerson","n","setTimeout","catch","error","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"iOASeA,EAPA,SAAC,GAAY,IAAXC,EAAU,EAAVA,KAEb,OACI,4BAAKA,ICMEC,EATA,SAACC,GAEZ,OACI,6BACI,2BAAIA,EAAMC,KAAV,IAAiBD,EAAME,OAAvB,IAA+B,4BAAQC,MAAOH,EAAMC,KAAMG,QAASJ,EAAMK,QAA1C,aCa5BC,EAhBK,SAACN,GACnB,IAAIO,EAAYP,EAAMQ,QAItB,OAHIR,EAAMS,SACRF,EAAYA,EAAUE,QAAO,SAAAC,GAAC,OAAIA,EAAET,KAAKU,cAAcC,SAASZ,EAAMS,OAAOE,mBAG7E,6BACE,4BACGJ,EAAUM,KAAI,SAACC,GAAD,OACb,wBAAIC,IAAKD,EAAOb,MAAhB,IAAuB,kBAAC,EAAD,CAAQI,OAAQL,EAAMI,QAASH,KAAMa,EAAOb,KAAMC,OAAQY,EAAOZ,SAAxF,WCQKc,EAlBC,SAAChB,GACb,OACI,6BACI,8BACF,sCACQ,2BAAOiB,SAAUjB,EAAMiB,SAAUd,MAAOH,EAAMkB,WAEtD,wCACU,2BAAOD,SAAUjB,EAAMmB,eAAgBhB,MAAOH,EAAMoB,aAE9D,6BACE,4BAAQhB,QAASJ,EAAMI,QAASiB,KAAK,UAArC,WCHGC,EARA,SAACtB,GACZ,OACI,uCACO,2BAAOiB,SAAUjB,EAAMiB,SAAUd,MAAOH,EAAMG,UCuB9CoB,EA1BM,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAWvB,OAAgB,OAAZA,EAEI,8BAOJ,yBAAKC,MAnBgB,CACjBC,MAAO,QACPC,SAAU,GACVC,gBAAiB,YACjBC,YAAa,QACbC,aAAc,EACdC,QAAS,EACTC,UAAW,WAaZR,I,gBCtBDS,EAAU,eAsBD,EAfA,SAAAC,GAEb,OADgBC,IAAMC,KAAKH,EAASC,GACrBG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACC,EAAIN,GAElB,OADgBC,IAAMM,IAAN,UAAaR,EAAb,YAAwBO,GAAMN,GAC/BG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALM,SAACC,GAElB,OADgBL,IAAM9B,OAAN,UAAgB4B,EAAhB,YAA2BO,IAC5BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCgH9BG,EA3HH,WAAO,IAAD,EACgBC,mBAAS,CACnC,CACI1C,KAAM,cACNC,OAAQ,aACRsC,GAAI,GAER,CACIvC,KAAM,eACNC,OAAQ,cACRsC,GAAI,KAVE,mBACPhC,EADO,KACEoC,EADF,OAagBD,mBAAS,IAbzB,mBAaPzB,EAbO,KAaE2B,EAbF,OAcoBF,mBAAS,IAd7B,mBAcPvB,EAdO,KAcI0B,EAdJ,OAeoBH,mBAAS,IAf7B,mBAePI,EAfO,KAeIC,EAfJ,OAgB0BL,mBAAS,6BAhBnC,mBAgBPM,EAhBO,KAgBOC,EAhBP,KAkBdC,qBAAU,WACNC,QAAQC,IAAI,UACZlB,IAAMmB,IAAI,gBAAgBjB,MAAK,SAAAC,GAC3Bc,QAAQC,IAAI,qBACZT,EAAWN,EAASC,WAEzB,IAsFH,OACI,6BACI,kBAAC,EAAD,CAAcf,QAASyB,IACvB,kBAAC,EAAD,CAAQnD,KAAK,cACb,kBAAC,EAAD,CAAQmB,SATW,SAACsC,GACxBA,EAAMC,iBACNR,EAAaO,EAAME,OAAOtD,QAOgBA,MAAO4C,EAAWtC,OAAQsC,IAChE,kBAAC,EAAD,CAAQjD,KAAK,cACb,kBAAC,EAAD,CAASqB,eAhBU,SAACoC,GACxBA,EAAMC,iBACNV,EAAaS,EAAME,OAAOtD,QAcuBiB,UAAWA,EAAWsC,MAAOxC,EAASD,SArBlE,SAACsC,GACtBA,EAAMC,iBACNX,EAAWU,EAAME,OAAOtD,QAmB2FC,QA1FnG,SAACmD,GACjBA,EAAMC,iBACN,IAAM1C,EAAS,CAAEb,KAAMiB,EAAShB,OAAQkB,EAAWoB,GAAImB,KAAKC,MAAMD,KAAKE,OAAO,SAC9E,GAAIrD,EAAQsD,MAAK,SAAApD,GAAC,OAAIA,EAAET,OAASa,EAAOb,SAEpC,GADe8D,OAAOC,QAAP,UAAkBlD,EAAOb,KAAzB,4EACH,CACR,IAAMgE,EAAazD,EAAQsD,MAAK,SAAApD,GAAC,OAAIA,EAAET,OAASa,EAAOb,QACvDiE,EACYD,EAAWzB,GADvB,eACgCyB,EADhC,CAC4C/D,OAAQkB,KAC/CiB,MAAK,SAAA8B,GACFvB,EACIpC,EAAQK,KAAI,SAAAuD,GAAC,OAAKA,EAAEnE,OAASiB,EAAUiD,EAAgBC,MAE3DlB,EAAgB,WAAD,OACApC,EAAOb,KADP,uCAGfoE,YAAW,WACPnB,EAAgB,QACjB,QAENoB,OAAM,SAAAC,GACHnB,QAAQC,IAAIkB,YAIxBL,EACYpD,GACPuB,MAAK,SAAAmC,GACF5B,EAAWpC,EAAQiE,OAAOD,IAC1B3B,EAAW,IACXC,EAAa,IACbI,EAAgB,WAAD,OACApC,EAAOb,KADP,aAGfoE,YAAW,WACPnB,EAAgB,QACjB,QACJoB,OAAM,SAAAC,GACLnB,QAAQC,IAAIkB,EAAMjC,SAASC,YAqDnC,kBAAC,EAAD,CAAQzC,KAAK,YACb,kBAAC,EAAD,CAAaW,OAAQsC,EAAWvC,QAASA,EAASJ,QAjDhC,SAACmD,GACvBA,EAAMC,iBACN,IAAM1C,EAASN,EAAQsD,MAAK,SAAApD,GAAC,OAAIA,EAAET,OAASsD,EAAME,OAAOtD,SAC1C4D,OAAOC,QAAP,uCAA+ClD,EAAOb,KAAtD,QAEXiE,EACkBpD,EAAO0B,IACpBH,MAAK,WACFO,EAAWpC,EAAQC,QAAO,SAAAC,GAAC,OAAIA,EAAE8B,KAAO1B,EAAO0B,OAC/CK,EAAW,IACXC,EAAa,IACbI,EAAgB,WAAD,OACApC,EAAOb,KADP,eAGfoE,YAAW,WACPnB,EAAgB,QACjB,QAENoB,OAAM,SAAAC,GACHnB,QAAQC,IAAIkB,GACZ3B,EAAWpC,EAAQC,QAAO,SAAAC,GAAC,OAAIA,EAAET,OAASa,EAAOb,SACjDiD,EAAgB,QAAD,OAASpC,EAAOb,KAAhB,uCC7FnBkC,IAAMmB,IAAI,gBAElBjB,MAAK,SAAAC,GACXc,QAAQC,IAAIf,MAIdoC,IAASC,OACL,kBAAC,EAAD,MACFC,SAASC,eAAe,W","file":"static/js/main.f31e21a2.chunk.js","sourcesContent":["import React from 'react'\n\nconst Header = ({text}) => {\n\n    return (\n        <h2>{text}</h2>\n    )\n}\n\nexport default Header","import React from 'react'\n\nconst Person = (props) => {\n\n    return (\n        <div>\n            <p>{props.name} {props.number} <button value={props.name} onClick={props.delete}>delete</button></p>\n        </div>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst ShowPersons = (props) => {\n  let showables = props.persons\n  if (props.filter) {\n    showables = showables.filter(p => p.name.toLowerCase().includes(props.filter.toLowerCase()))\n  }\n  return (\n    <div>\n      <ul>\n        {showables.map((person) =>\n          <li key={person.name}> <Person delete={props.onClick} name={person.name} number={person.number} /> </li>\n        )}\n      </ul>\n    </div>\n  )\n}\n\nexport default ShowPersons","import React from 'react'\n\nconst AddForm = (props) => {\n    return (\n        <div>\n            <form>\n          <div>\n            Name: <input onChange={props.onChange} value={props.newName}/>\n          </div>\n          <div>             \n            Number: <input onChange={props.onChangeNumber} value={props.newNumber}/>\n          </div>\n          <div>\n            <button onClick={props.onClick} type=\"submit\">add</button>\n          </div>\n        </form>\n        </div>\n    )\n}\n\nexport default AddForm","import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>\n        filter <input onChange={props.onChange} value={props.value}/>\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({message}) => {\n    const messageStyle = {\n        color: 'green',\n        fontSize: 50,\n        backgroundColor: 'lightgrey',\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 5,\n        textAlign: 'center'\n    }\n\nif (message === null) {\n    return (\n        <div>\n\n        </div>\n    )\n  }\n  \n  return (\n    <div style={messageStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { \n  getAll: getAll, \n  create: create, \n  update: update,\n  deletePerson:deletePerson\n}","import React, { useState, useEffect } from 'react'\nimport Header from './Header'\nimport ShowPersons from './ShowPersons'\nimport AddForm from './AddForm'\nimport Filter from './Filter'\nimport Notification from './Notification'\nimport axios from 'axios'\nimport personHandlingService from '../services/personHandlingService'\n\nconst App = () => {\n    const [persons, setPersons] = useState([\n        {\n            name: 'aantikainen',\n            number: '1231231231',\n            id: 1\n        },\n        {\n            name: 'Ada Lovelace',\n            number: '1800-CALLME',\n            id: 2\n        }\n    ])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [newFilter, setNewFilter] = useState('')\n    const [errorMessage, setErrorMessage] = useState('Welcome to phonebook app!')\n\n    useEffect(() => {\n        console.log('effect')\n        axios.get('/api/persons').then(response => {\n            console.log('promise fulfilled')\n            setPersons(response.data)\n        })\n    }, [])\n\n    const handleClick = (event) => {\n        event.preventDefault()\n        const person = { name: newName, number: newNumber, id: Math.floor(Math.random(99999)) }\n        if (persons.find(p => p.name === person.name)) {\n            const result = window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one ?`);\n            if (result) {\n                const prevPerson = persons.find(p => p.name === person.name)\n                personHandlingService\n                    .update(prevPerson.id, { ...prevPerson, number: newNumber })\n                    .then(updatedPerson => {\n                        setPersons(\n                            persons.map(n => (n.name === newName ? updatedPerson : n))\n                        );\n                        setErrorMessage(\n                            `Person '${person.name}' 's phonenumber has been updated!`\n                        )\n                        setTimeout(() => {\n                            setErrorMessage(null)\n                        }, 5000)\n                    })\n                    .catch(error => {\n                        console.log(error);\n                    });\n            }\n        } else {\n            personHandlingService\n                .create(person)\n                .then(returnedPerson => {\n                    setPersons(persons.concat(returnedPerson))\n                    setNewName(\"\")\n                    setNewNumber(\"\")\n                    setErrorMessage(\n                        `Person '${person.name}' added!`\n                    )\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                }).catch(error => {\n                    console.log(error.response.data)\n                })\n        }\n    }\n\n    const handleDeleteClick = (event) => {\n        event.preventDefault()\n        const person = persons.find(p => p.name === event.target.value)\n        const result = window.confirm(`Do you really want to delete ${person.name} ?`);\n        if (result) {\n            personHandlingService\n                .deletePerson(person.id)\n                .then(() => {\n                    setPersons(persons.filter(p => p.id !== person.id));\n                    setNewName(\"\");\n                    setNewNumber(\"\");\n                    setErrorMessage(\n                        `Person '${person.name}' deleted!`\n                    )\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                })\n                .catch(error => {\n                    console.log(error)\n                    setPersons(persons.filter(p => p.name !== person.name));\n                    setErrorMessage(`User ${person.name} has already been removed!`);\n                })\n        }\n    }\n\n    const handleNameChange = (event) => {\n        event.preventDefault()\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        event.preventDefault()\n        setNewNumber(event.target.value)\n    }\n\n    const handleFilterChange = (event) => {\n        event.preventDefault()\n        setNewFilter(event.target.value)\n    }\n\n    return (\n        <div>\n            <Notification message={errorMessage} />\n            <Header text=\"Phonebook\" />\n            <Filter onChange={handleFilterChange} value={newFilter} filter={newFilter} />\n            <Header text=\"Add a new\" />\n            <AddForm onChangeNumber={handleNumberChange} newNumber={newNumber} input={newName} onChange={handleNameChange} onClick={handleClick} />\n            <Header text=\"Numbers\" />\n            <ShowPersons filter={newFilter} persons={persons} onClick={handleDeleteClick} />\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport axios from 'axios'\n\nconst promise = axios.get('/api/persons')\n\npromise.then(response => {\n  console.log(response)\n})\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}